(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6788e593"],{"21a6":function(t,e,o){(function(o){var n,a,r;(function(o,i){a=[],n=i,r="function"===typeof n?n.apply(e,a):n,void 0===r||(t.exports=r)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,o){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){c(n.response,e,o)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,o){var c=i.URL||i.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?r(s):a(s.href)?n(t,e,o):r(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(s.href)}),4e4),setTimeout((function(){r(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,o,i){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,i),o);else if(a(t))n(t,o,i);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout((function(){r(c)}))}}:function(t,e,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,o);var r="application/octet-stream"===t.type,c=/constructor/i.test(i.HTMLElement)||i.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&c)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},l.readAsDataURL(t)}else{var d=i.URL||i.webkitURL,u=d.createObjectURL(t);a?a.location=u:location.href=u,a=null,setTimeout((function(){d.revokeObjectURL(u)}),4e4)}});i.saveAs=c.saveAs=c,t.exports=c}))}).call(this,o("c8ba"))},"4b85":function(t,e,o){},"7e58":function(t,e,o){},"882a":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-toolbar",{attrs:{flat:"",color:"#FAFAFA"}},[o("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],attrs:{icon:""},on:{click:function(e){return t.clear()}}},[o("v-icon",{domProps:{textContent:t._s("mdi-autorenew")}})],1),o("file-select",{attrs:{accept:".dtx"},on:{close:t.checkFloorCount},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),o("v-btn-toggle",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],attrs:{color:"primary",mandatory:"",group:"",tile:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.magnificationNames,(function(e,n){return o("v-btn",{key:n,domProps:{textContent:t._s(e.name)}})})),1),o("loading-bar",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),o("v-spacer"),o("a",{attrs:{href:t.dxf.url},domProps:{textContent:t._s(t.dxf.label)}})],1),o("output-computation",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],attrs:{items:t.item,bearingItems:t.bwItems},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("roof-type-dialog",{on:{close:t.load},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)},a=[],r=(o("7f7f"),o("ac4d"),o("8a81"),o("ac6a"),o("bc3a")),i=o.n(r),c=o("21a6"),s=o.n(c),l={data:function(){return{magnificationNames:[{name:"倍率S"},{name:"倍率H"}],isLoading:!1,tabs:null,dxf:{url:"",label:""},item:{gravity:{url:"",label:""},rigidity:{url:"",label:""}},bwItems:[],floorArea:[],dialog:!1,file:null,filecsv:null,selected:0,isLoad:!1}},components:{FileSelect:function(){return o.e("chunk-1e70995c").then(o.bind(null,"914b"))},LoadingBar:function(){return o.e("chunk-8a9bdeac").then(o.bind(null,"4b97"))},RoofTypeDialog:function(){return o.e("chunk-374895f0").then(o.bind(null,"72db"))},OutputComputation:function(){return Promise.all([o.e("chunk-ec6522ba"),o.e("chunk-a2bc1b32")]).then(o.bind(null,"0398"))}},watch:{file:function(t){t&&(this.isLoading=!0)},selected:function(t){this.downloadFile(t)},filecsv:function(){var t=this,e=new FormData;e.append("file",this.filecsv),i.a.post("http://localhost/dtx/api/csvapi/loadFromUploadFile",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var o=e.data;o.pop(),t.floorArea=o.filter((function(t){return-1!=t[1].indexOf("軸方向1/4")})).map((function(t){return[t[0],t[1],t[2],t[3]]}))}))}},methods:{download:function(){var t={values:this.bwItems,filename:"".concat(this.dtx.planInfo.memo1,"-").concat(this.dtx.planInfo.memo2,"_BearingWall"),folderName:this.dtx.planInfo.memo1};i.a.post("http://localhost/dtx/api/csvapi/saveFile",t).then((function(){s.a.saveAs("http://localhost/dtx/api/download/".concat(t.folderName,"/").concat(t.filename,".csv"),"".concat(t.filename,".csv"))}))},checkFloorCount:function(t){t?(this.isLoading=!1,this.dialog=t):this.load()},downloadFile:function(t){var e=function(){switch(t){case 0:return"Standard";default:return"Higher"}},o=e(),n="".concat(this.dtx.planInfo.memo1,"-").concat(this.dtx.planInfo.memo2),a="".concat(this.dtx.planInfo.memo1,"/").concat(n);this.item.rigidity.url=this.dtx.downloadFile("".concat(a,"-Rigidity_").concat(o,".csv")),this.item.rigidity.label="Download: ".concat(n,"-Rigidity_").concat(o,".csv"),this.item.gravity.url=this.dtx.downloadFile("".concat(a,"-Gravity_").concat(o,".csv")),this.item.gravity.label="Download: ".concat(n,"-Gravity_").concat(o,".csv"),this.dxf.url=this.dtx.downloadFile("".concat(a,"-").concat(o,".dxf")),this.dxf.label="Download: ".concat(n,"-").concat(o,".dxf")},clear:function(){location.reload()},load:function(t){var e=this;this.dialog=!1,this.isLoading=!0,this.dtx.bearingWall.asExtract(),this.dtx.bearingWall.roofType=t,this.dtx.saveExtract(),this.dtx.loadFromUploadFile(this.file).then((function(){var t=[],o=[],n=[],a=[],r=[],i=[],c=[],s=[];e.dtx.bearingWall.gravityComputation.standard.floors.forEach((function(e){t=t.concat(e.layouts)})),e.dtx.bearingWall.rigidityComputation.standard.x.floors.forEach((function(t){n=n.concat(t.coordinateList)})),e.dtx.bearingWall.rigidityComputation.standard.y.floors.forEach((function(t){a=a.concat(t.coordinateList)})),e.dtx.bearingWall.eccentricityRatio.standard.floors.forEach((function(t){var e=[];e.push(t.x,t.y),c=c.concat(e)})),e.dtx.bearingWall.gravityComputation.higher.floors.forEach((function(t){o=o.concat(t.layouts)})),e.dtx.bearingWall.rigidityComputation.higher.x.floors.forEach((function(t){r=r.concat(t.coordinateList)})),e.dtx.bearingWall.rigidityComputation.higher.y.floors.forEach((function(t){i=i.concat(t.coordinateList)})),e.dtx.bearingWall.eccentricityRatio.higher.floors.forEach((function(t){var e=[];e.push(t.x,t.y),s=s.concat(e)})),e.bwList[0][0]=t,e.bwList[0][1]=n,e.bwList[0][2]=a,e.bwList[0][3]=c,e.bwList[1][0]=o,e.bwList[1][1]=r,e.bwList[1][2]=i,e.bwList[1][3]=s,e.isLoad=!0,e.downloadFile(e.selected),e.isLoading=!1,e.addBearingWall(0)}))},addBearingWall:function(){for(var t=this,e=function(e,o,n,a,r,i){var c={floorName:e,zone:o,coordinates:n,value:a,length:r,volume:i};t.bwItems.push(c)},o=function(t,e,o){return"".concat(t.names[e]," － ").concat(t.names[o])},n=this.dtx.bearingWall.bearingwall.floors.length-1;n>=0;n--){var a=this.dtx.bearingWall.bearingwall.floors[n],r=!0,i=!1,c=void 0;try{for(var s,l=a.x.zones[2].values[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var d=s.value;e("".concat(a.x.name,"軸方向").concat(a.floorName),"上１／４",o(a.x.zones[2],a.x.zones[2].names.length-1,0),d.bWValue,d.bWLength,d.wallVolume)}}catch(S){i=!0,c=S}finally{try{r||null==l.return||l.return()}finally{if(i)throw c}}var u=!0,f=!1,p=void 0;try{for(var h,b=a.x.zones[0].values[Symbol.iterator]();!(u=(h=b.next()).done);u=!0){var v=h.value;e("".concat(a.x.name,"軸方向").concat(a.floorName),"下１／４",o(a.x.zones[0],a.x.zones[0].names.length-1,0),v.bWValue,v.bWLength,v.wallVolume)}}catch(S){f=!0,p=S}finally{try{u||null==b.return||b.return()}finally{if(f)throw p}}var m=!0,g=!1,y=void 0;try{for(var w,x=a.y.zones[0].values[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var O=w.value;e("".concat(a.y.name,"軸方向").concat(a.floorName),"左１／４",o(a.y.zones[0],0,a.y.zones[0].names.length-1),O.bWValue,O.bWLength,O.wallVolume)}}catch(S){g=!0,y=S}finally{try{m||null==x.return||x.return()}finally{if(g)throw y}}var L=!0,k=!1,j=void 0;try{for(var E,P=a.y.zones[2].values[Symbol.iterator]();!(L=(E=P.next()).done);L=!0){var C=E.value;e("".concat(a.y.name,"軸方向").concat(a.floorName),"右１／４",o(a.y.zones[2],0,a.y.zones[2].names.length-1),C.bWValue,C.bWLength,C.wallVolume)}}catch(S){k=!0,j=S}finally{try{L||null==P.return||P.return()}finally{if(k)throw j}}}}}},d=l,u=o("2877"),f=o("6544"),p=o.n(f),h=o("8336"),b=(o("8e6e"),o("456d"),o("bd86")),v=(o("7e58"),o("604c")),m=v["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return v["a"].options.computed.classes.call(this)}},methods:{genData:v["a"].options.methods.genData}}),g=o("a9ad"),y=o("58df");function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(o,!0).forEach((function(e){Object(b["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var O=Object(y["a"])(m,g["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return x({},m.options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,x({},m.options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}}),L=o("a523"),k=o("132d"),j=o("2fa4"),E=o("71d9"),P=Object(u["a"])(d,n,a,!1,null,null,null);e["default"]=P.exports;p()(P,{VBtn:h["a"],VBtnToggle:O,VContainer:L["a"],VIcon:k["a"],VSpacer:j["a"],VToolbar:E["a"]})},a523:function(t,e,o){"use strict";o("f559"),o("ac6a"),o("456d"),o("20f6"),o("4b85");var n=o("e8f2"),a=o("d9f7");e["a"]=Object(n["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var o,n=e.props,r=e.data,i=e.children,c=r.attrs;return c&&(r.attrs={},o=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),t(n.tag,Object(a["a"])(r,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(o||[])}),i)}})},d9f7:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));o("8e6e");var n=o("bd86");o("ac6a"),o("456d");function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(o,!0).forEach((function(e){Object(n["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}
/**
 * @copyright 2017 Alex Regan
 * @license MIT
 * @see https://github.com/alexsasharegan/vue-functional-data-merge
 */function i(){var t,e,o={},n=arguments.length;while(n--)for(var a=0,i=Object.keys(arguments[n]);a<i.length;a++)switch(t=i[a],t){case"class":case"style":case"directives":Array.isArray(o[t])||(o[t]=[]),o[t]=o[t].concat(arguments[n][t]);break;case"staticClass":if(!arguments[n][t])break;void 0===o[t]&&(o[t]=""),o[t]&&(o[t]+=" "),o[t]+=arguments[n][t].trim();break;case"on":case"nativeOn":o[t]||(o[t]={});for(var c=o[t],s=0,l=Object.keys(arguments[n][t]||{});s<l.length;s++)e=l[s],c[e]?c[e]=Array().concat(c[e],arguments[n][t][e]):c[e]=arguments[n][t][e];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":o[t]||(o[t]={}),o[t]=r({},arguments[n][t],{},o[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:o[t]||(o[t]=arguments[n][t])}return o}},e8f2:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));o("f559"),o("ac6a"),o("456d");var n=o("2b0e");function a(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,o){var n=o.props,a=o.data,r=o.children;a.staticClass="".concat(t," ").concat(a.staticClass||"").trim();var i=a.attrs;if(i){a.attrs={};var c=Object.keys(i).filter((function(t){if("slot"===t)return!1;var e=i[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));c.length&&(a.staticClass+=" ".concat(c.join(" ")))}return n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),e(n.tag,a,r)}})}}}]);
//# sourceMappingURL=chunk-6788e593.ccc12303.js.map